const syllables=["a","ai","an","ang","ao","ba","bai","ban","bang","bao","bei","ben","beng","bi","bian","biao","bie","bin","bing","bo","bu","ca","cai","can","cang","cao","ce","cei","cen","ceng","cha","chai","chan","chang","chao","che","chen","cheng","chi","chong","chou","chu","chua","chuai","chuan","chuang","chui","chun","chuo","ci","cong","cou","cu","cuan","cui","cun","cuo","da","dai","dan","dang","dao","de","dei","den","deng","di","dian","diao","die","ding","diu","dong","dou","du","duan","dui","dun","duo","e","ei","en","er","fa","fan","fang","fei","fen","feng","fo","fou","fu","ga","gai","gan","gang","gao","ge","gei","gen","geng","gong","gou","gu","gua","guai","guan","guang","gui","gun","guo","ha","hai","han","hang","hao","he","hei","hen","heng","hm","hng","hong","hou","hu","hua","huai","huan","huang","hui","hun","huo","ji","jia","jian","jiang","jiao","jie","jin","jing","jiong","jiu","ju","juan","jue","jun","ka","kai","kan","kang","kao","ke","kei","ken","keng","kong","kou","ku","kua","kuai","kuan","kuang","kui","kun","kuo","l\xFC","la","lai","lan","lang","lao","le","l\xFCe","lei","leng","li","lia","lian","liang","liao","lie","lin","ling","liu","long","lou","lu","luan","lun","luo","m","ma","mai","man","mang","mao","me","mei","men","meng","mi","mian","miao","mie","min","ming","miu","mo","mou","mu","n","n\xFC","na","nai","nan","nang","nao","ne","n\xFCe","nei","nen","neng","ng","ni","nian","niang","niao","nie","nin","ning","niu","nong","nou","nu","nuan","nuo","o","ou","pa","pai","pan","pang","pao","pei","pen","peng","pi","pian","piao","pie","pin","ping","po","pou","pu","qi","qia","qian","qiang","qiao","qie","qin","qing","qiong","qiu","qu","quan","que","qun","ran","rang","rao","re","ren","reng","ri","rong","rou","ru","rua","ruan","rui","run","ruo","sa","sai","san","sang","sao","se","sei","sen","seng","sha","shai","shan","shang","shao","she","shei","shen","sheng","shi","shou","shu","shua","shuai","shuan","shuang","shui","shun","shuo","si","song","sou","su","suan","sui","sun","suo","ta","tai","tan","tang","tao","te","teng","ti","tian","tiao","tie","ting","tong","tou","tu","tuan","tui","tun","tuo","wa","wai","wan","wang","wei","wen","weng","wo","wu","xi","xia","xian","xiang","xiao","xie","xin","xing","xiong","xiu","xu","xuan","xue","xun","ya","yan","yang","yao","ye","yi","yin","ying","yong","you","yu","yuan","yue","yun","za","zai","zan","zang","zao","ze","zei","zen","zeng","zha","zhai","zhan","zhang","zhao","zhe","zhei","zhen","zheng","zhi","zhong","zhou","zhu","zhua","zhuai","zhuan","zhuang","zhui","zhun","zhuo","zi","zong","zou","zuan","zui","zun","zuo","zu"],normalizePinyin=a=>(a=a.normalize("NFD").replace(/\u0304|\u0301|\u030c|\u0300/g,""),a.normalize("NFC").replace(/(\w|Ã¼)[1-5]/gi,"$1").toLowerCase()),split=(a,b=!1,c=!1)=>{const d=[];let e=!1,f=a.length;for(;0<f;){let g=f,h=!1;for(;0<g;){const b=a.substring(f-g,f);if(syllables.includes(normalizePinyin(b))){h=!0,d.push(c?[b]:b),f-=g-1;break}g--}if(!h&&b){const b=d.length-1,c=d[b];f===a.length||"object"==typeof c||e?d.push(a[f-1]):"string"==typeof c&&(d[b]=a[f-1]+c)}f--,e=h}return d.reverse()};window.pinyin_split=split;var hanziWriter;function loadCharacter(a,b){var c=new XMLHttpRequest;c.overrideMimeType("application/json"),c.open("GET","https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/"+a+".json",!0),c.send(null),c.onerror=function(a){document.body.append("An error occured during transation ("+a+")")},c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&(200===c.status?b(JSON.parse(c.responseText)):document.body.append("An error occured during download of data ("+c.status+")"))}}function prepareHanzi(a,b,c,d,e){function f(){if(i=-1,null!=d){var c=pinyin_split(h,!0,!0),e="";let a=0;for(let b of c)Array.isArray(b)?(e+=a==j?"<u>"+b[0]+"</u>":b[0],a++):e+=b;d.innerHTML=e}hanziWriter.quiz({onComplete:function(){setTimeout(function(){++j<a.length?(hanziWriter.setCharacter(a[j]),f()):(hanziWriter.cancelQuiz(),b.innerHTML="\u2713",b.classList.add("done"))},1e3)},onCorrectStroke:function(a){i=a.strokeNum}})}for(null!=hanziWriter&&hanziWriter.cancelQuiz();b.firstChild;)b.removeChild(b.firstChild);var g={width:b.clientWidth,height:b.clientWidth,showCharacter:!1,showOutline:!1,highlightOnComplete:!0,leniency:c,padding:0,charDataLoader:loadCharacter};hanziWriter=HanziWriter.create(b.id,a[0],g);let h="";null!=d&&(d.innerHTML=d.innerText,h=d.innerText);var i,j=0;f(),null!=e&&(e.onclick=function(){hanziWriter.highlightStroke(i+1)})}