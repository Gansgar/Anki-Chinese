function loadSyllables(){let a=new XMLHttpRequest;return a.overrideMimeType("application/json"),a.open("GET","https://raw.githubusercontent.com/pepebecker/pinyin-split/master/syllables.json",0),a.send(),JSON.parse(a.responseText)}window.syllables="undefined"==typeof window.syllables?loadSyllables():window.syllables,window.normalizePinyin=a=>(a=a.normalize("NFD").replace(/\u0304|\u0301|\u030c|\u0300/g,""),a.normalize("NFC").replace(/(\w|Ã¼)[1-5]/gi,"$1").toLowerCase()),window.split=(a,b=!1,c=!1)=>{const d=[];let e=!1,f=a.length;for(;0<f;){let g=f,h=!1;for(;0<g;){const b=a.substring(f-g,f);if(syllables.includes(normalizePinyin(b))){h=!0,d.push(c?[b]:b),f-=g-1;break}g--}if(!h&&b){const b=d.length-1,c=d[b];f===a.length||"object"==typeof c||e?d.push(a[f-1]):"string"==typeof c&&(d[b]=a[f-1]+c)}f--,e=h}return d.reverse()},window.pinyin_split=split;var hanziWriter;function loadCharacter(a,b,c){if(" ()-/".includes(a))return void c("Invalid char");var d=new XMLHttpRequest;d.overrideMimeType("application/json"),d.open("GET","https://cdn.jsdelivr.net/npm/hanzi-writer-data@2.0/"+a+".json",!0),d.send(null),d.onerror=function(a){document.body.append("An error occured during transation ("+a+")")},d.onreadystatechange=function(){d.readyState===XMLHttpRequest.DONE&&(200===d.status?b(JSON.parse(d.responseText)):404===d.status?c("Character couldn't be found"):document.body.append("An error occured during download of data ("+d.status+")"))}}function prepareHanzi(a,b,c,d,e){function f(){if(i=-1,null!=d){var b=pinyin_split(k,!0,!0),c="";let e=0;for(let a of b)Array.isArray(a)?(c+=e==j?"<u>"+a[0]+"</u>":a[0],e++):(c+=a,e+=a.length);d.innerHTML=c+" ("+a.substr(0,j)+"...)"}hanziWriter.quiz({onComplete:function(){setTimeout(l,1e3)},onCorrectStroke:function(a){i=a.strokeNum}})}null!=hanziWriter&&hanziWriter.cancelQuiz();let g=Math.min(b.clientWidth,512,2*window.innerHeight/3),h=b.getElementsByClassName("background-svg")[0].style;h.width=h.height=g;var i,j=0;let k="";null!=d&&(d.innerHTML=d.innerText,k=d.innerText);var l=function(){++j<a.length?(hanziWriter.setCharacter(a[j]),f()):(hanziWriter.cancelQuiz(),null!=e&&(e.hidden=!0),null!=d&&(d.innerHTML=k+" ("+a+") \u2713"))};hanziWriter=HanziWriter.create(b.id,a[0],{width:g,height:g,showCharacter:!1,showOutline:!1,highlightOnComplete:!0,strokeColor:"#000",leniency:c,padding:0,charDataLoader:loadCharacter,onLoadCharDataError:l}),f(),null!=e&&(e.onclick=function(){hanziWriter.highlightStroke(i+1)})}function onStart(){if(null!=window.HanziWriter){var a=document.getElementById("hanzi"),b=document.getElementById("character-target");if(null!=a&&null!=b){var c=1;document.getElementById("leniency")&&(c=1*document.getElementById("leniency").innerHTML),prepareHanzi(a.innerHTML,b,c,document.getElementById("pinyin"),document.getElementById("hint-button"))}}}function waitForScript(){setTimeout(function(){null==window.HanziWriter?waitForScript():onStart()},10)}waitForScript();